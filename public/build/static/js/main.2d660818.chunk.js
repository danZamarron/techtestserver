(this.webpackJsonptechtestclient=this.webpackJsonptechtestclient||[]).push([[0],{211:function(e,t,a){e.exports=a(378)},216:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(23),u=a.n(s),l=a(86),i=a(38),o=(a(216),a(25)),m=a.n(o),p=a(37),d=a(208),f=a(379),v=a(66),b=a(386),E=a(120),h=a.n(E);n="/",n+="auth";var g=h.a.create({withCredentials:!0,baseURL:n}),y=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/signup",t).catch((function(e){var t,a;return{message:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,status:null===e||void 0===e?void 0:e.status}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/login",t).catch((function(e){var t,a;return{message:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,status:null===e||void 0===e?void 0:e.status}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/currentUser");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=a(44),O=Object(r.createContext)();function T(e){var t=e.children,a=Object(r.useState)(null),n=Object(w.a)(a,2),s=n[0],u=n[1],l=function(e){return u(e)};return Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,a=t.data.user,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){}),[s]),c.a.createElement(O.Provider,{value:{user:s,setContextUser:l,clearContextUser:function(){return u(null)}}},t)}var C,F=f.a.Header,S=f.a.Content,I=f.a.Footer,U={background:"#ffffff",padding:"24px",minHeight:"280px"},A={width:"120px",height:"31px",background:"rgba(255, 255, 255, 0.2)",margin:"16px 24px 16px 0",float:"left"},L=function(e){var t=e.children,a=Object(r.useContext)(O),n=a.clearContextUser,s=a.user,u=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n(),d.b.success("Sesion terminada");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(f.a,{className:"layout",style:{minHeight:"100vh"}},c.a.createElement(F,null,c.a.createElement("div",{style:A}),c.a.createElement(v.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},c.a.createElement(v.a.Item,{key:"1"},c.a.createElement(l.b,{to:"/"},"Home")),!s&&c.a.createElement(v.a.Item,{key:"2"},c.a.createElement(l.b,{to:"/login"},"Login")),!s&&c.a.createElement(v.a.Item,{key:"3"},c.a.createElement(l.b,{to:"/signup"},"Sign Up")),s&&c.a.createElement(v.a.Item,{key:"4"},c.a.createElement(l.b,{to:"/",onClick:u},"Cerrar Sesion de ",null===s||void 0===s?void 0:s.username)))),c.a.createElement(S,{style:{padding:"0 50px"}},c.a.createElement(b.a,{style:{margin:"20px"}},s&&c.a.createElement(b.a.Item,null,"Estas Logeado como: ",c.a.createElement("strong",null,null===s||void 0===s?void 0:s.username))),c.a.createElement("div",{style:U},t)),c.a.createElement(I,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))},R=a(382),q=a(385),D=a(380),N=a(381),_=a(45),z=a(112),B=a(384),H=a(383),P=a(387);C="/",C+="api/task";var G=h.a.create({withCredentials:!0,baseURL:C}),J=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.post("/",t).catch((function(e){var t,a;return{message:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,status:null===e||void 0===e?void 0:e.status}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.delete("/delete/".concat(t)).catch((function(e){var t,a;return{message:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,status:null===e||void 0===e?void 0:e.status}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.put("/done/".concat(t)).catch((function(e){var t,a;return{message:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,status:null===e||void 0===e?void 0:e.status}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=B.a.Title,V=function(){return d.b.success("Se agrego la task")},Q=Object(r.forwardRef)((function(e,t){var a=e.closeModal,n=e.mutateSWR,s=e.mutateURL,u=H.a.useForm(),l=Object(w.a)(u,1)[0],i=Object(r.useState)(!1),o=Object(w.a)(i,2),d=o[0],f=o[1],v=Object(r.useState)(""),b=Object(w.a)(v,2),E=b[0],h=b[1];function g(){return(g=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,J(t);case 3:201===(r=e.sent).status?(V(),a(!1),n(s)):(f(!0),h(r.message));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useImperativeHandle)(t,(function(){return{addTask:function(){l.submit()}}})),Object(r.useEffect)((function(){return function(){l.resetFields(["title","description"])}})),c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,{layout:"vertical",form:l,onFinish:function(e){return g.apply(this,arguments)}},c.a.createElement(H.a.Item,{name:"title",label:"Titulo de la Task",rules:[{required:!0,message:"Favor de escribir un titulo de task",whitespace:!0}]},c.a.createElement(P.a,null)),c.a.createElement(H.a.Item,{name:"description",label:"Descripcion de la Task",rules:[{required:!0,message:"Favor de escribir una descripcion ",whitespace:!0}]},c.a.createElement(P.a,null)),c.a.createElement(D.a,{justify:"center"},c.a.createElement(N.a,null,d&&c.a.createElement(W,{level:5,type:"warning"},E)))))})),X="http://localhost:4000/api/task",Y=function(e){return fetch(e).then((function(e){return e.json()}))},Z=R.a.Column,$=q.a.confirm,ee=function(){return c.a.createElement("h5",null,"No estas logeado")},te=function(){var e=Object(r.useContext)(O).user,t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],s=a[1],u=Object(r.useRef)();function l(e){var t=e.title,a=e._id;$({title:"Borrar Task",content:"Borrar la Task ".concat(t),okText:"Si",okType:"danger",cancelText:"No",onOk:function(){!function(e){i.apply(this,arguments)}(a)},onCancel:function(){}})}function i(){return(i=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:200===(a=e.sent).status?(d.b.success("Se elimino la task satisfactoriamente"),Object(z.b)(X)):d.b.error(a.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){var t=e.title,a=e._id;$({title:"Finalizar Task",content:"Finalizar la Task ".concat(t),okText:"Si",okType:"primary",cancelText:"No",onOk:function(){!function(e){f.apply(this,arguments)}(a)},onCancel:function(){}})}function f(){return(f=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:201===(a=e.sent).status?(d.b.success("Se termino la task satisfactoriamente"),Object(z.b)(X)):d.b.error(a.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=Object(z.a)(X,Y),b=v.data;return v.error?"An error has occurred.":b?c.a.createElement("div",null,c.a.createElement(D.a,null,c.a.createElement(N.a,null,e?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{block:!0,type:"primary",onClick:function(){return s(!0)}},"Agrega una Task"),c.a.createElement(q.a,{centered:!0,title:"Agrega Task",visible:n,onCancel:function(){return s(!1)},onOk:function(){u.current.addTask()},width:700},c.a.createElement(Q,{ref:u,closeModal:s,mutateSWR:z.b,mutateURL:X}))):c.a.createElement(c.a.Fragment,null))),c.a.createElement(R.a,{style:{marginTop:"30px"},key:"x",rowKey:function(e){return e._id},dataSource:b},c.a.createElement(Z,{title:"Titulo",dataIndex:"title",key:"title"}),c.a.createElement(Z,{title:"Descripcion",dataIndex:"description",key:"description"}),c.a.createElement(Z,{title:"Creada por",dataIndex:"userCreated",key:"userCreated",render:function(e,t){return c.a.createElement(c.a.Fragment,null,t.userCreated.username)}}),c.a.createElement(Z,{title:"Finalizar Task",key:"Done",align:"center",render:function(t,a){return c.a.createElement(c.a.Fragment,null,e?a.userAccepted?c.a.createElement("h4",null,"Terminada por: ",a.userAccepted.username):c.a.createElement(_.a,{onClick:function(){return o(a)},type:"primary"},"Finalizar"):ee())}}),c.a.createElement(Z,{title:"Borrar Task",key:"Delete",align:"center",render:function(t,a){return c.a.createElement(c.a.Fragment,null,e?a.userCreated._id===e._id?c.a.createElement(_.a,{onClick:function(){return l(a)},type:"danger"},"Borrar Task"):c.a.createElement(_.a,{disabled:!0,type:"dashed"},"Not Task's Autor"):ee())}}))):"Loading..."},ae=B.a.Title,ne=function(e){var t=H.a.useForm(),a=Object(w.a)(t,1)[0],n=Object(r.useState)(!1),s=Object(w.a)(n,2),u=s[0],l=s[1],i=Object(r.useState)(""),o=Object(w.a)(i,2),f=o[0],v=o[1],b=Object(r.useContext)(O).setContextUser,E=function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.next=3,k(a);case 3:200===(n=t.sent).status?(n.data.password="",b(n.data),r=n.data.username,d.b.success("Gracias por entrar ".concat(r)),e.history.push("/")):(l(!0),v(n.message));case 5:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("h2",null,"Login"),c.a.createElement(H.a,{name:"normal_login",form:a,layout:"vertical",className:"login-form",initialValues:{remember:!0},onFinish:E},c.a.createElement(H.a.Item,{name:"username",label:"Username",rules:[{required:!0}]},c.a.createElement(P.a,null)),c.a.createElement(H.a.Item,{name:"password",label:"Password",rules:[{required:!0}]},c.a.createElement(P.a.Password,null)),c.a.createElement(D.a,{justify:"center"},c.a.createElement(N.a,null,u&&c.a.createElement(ae,{level:5,type:"warning"},f))),c.a.createElement(H.a.Item,null,c.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Log in"))))},re=B.a.Title,ce=function(e){var t=H.a.useForm(),a=Object(w.a)(t,1)[0],n=Object(r.useState)(!1),s=Object(w.a)(n,2),u=s[0],l=s[1],i=Object(r.useState)(""),o=Object(w.a)(i,2),f=o[0],v=o[1],b=function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.next=3,y(a);case 3:200===(n=t.sent).status?(d.b.success("Gracias por registrarse!"),e.history.push("/login")):(l(!0),v(n.message));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Sign Up"),c.a.createElement(H.a,{layout:"vertical",form:a,name:"register",onFinish:b,scrollToFirstError:!0},c.a.createElement(H.a.Item,{name:"username",label:"Username",rules:[{required:!0,whitespace:!0}]},c.a.createElement(P.a,null)),c.a.createElement(H.a.Item,{name:"password",label:"Password",rules:[{required:!0}]},c.a.createElement(P.a.Password,null)),c.a.createElement(D.a,{justify:"left"},c.a.createElement(N.a,null,u&&c.a.createElement(re,{level:5,type:"warning"},f))),c.a.createElement(H.a.Item,null,c.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Registrar"))))};var se=function(){return c.a.createElement(l.a,null,c.a.createElement(L,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:te}),c.a.createElement(i.a,{exact:!0,path:"/signup",component:ce}),c.a.createElement(i.a,{exact:!0,path:"/login",component:ne}))))};a(377);u.a.render(c.a.createElement(T,null,c.a.createElement(se,null)),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.2d660818.chunk.js.map